"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[594],{166:(e,r,s)=>{s.d(r,{default:()=>v,d:()=>p});var t=s(5155),a=s(2115),d=s(6563),i=s(1027),o=s(689),n=s(1567);let l=d.Kq,u=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(d.LM,{ref:r,className:(0,n.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...a})});u.displayName=d.LM.displayName;let c=(0,i.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"bg-green-50 text-green-800 border-green-200"}},defaultVariants:{variant:"default"}}),f=a.forwardRef((e,r)=>{let{className:s,variant:a,...i}=e;return(0,t.jsx)(d.bL,{ref:r,className:(0,n.cn)(c({variant:a}),s),...i})});f.displayName=d.bL.displayName,a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(d.rc,{ref:r,className:(0,n.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...a})}).displayName=d.rc.displayName;let m=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(d.bm,{ref:r,className:(0,n.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...a,children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})});m.displayName=d.bm.displayName;let g=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(d.hE,{ref:r,className:(0,n.cn)("text-sm font-semibold",s),...a})});g.displayName=d.hE.displayName;let h=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(d.VY,{ref:r,className:(0,n.cn)("text-sm opacity-90",s),...a})});h.displayName=d.VY.displayName;let x=(0,a.createContext)(void 0),p=()=>{let e=(0,a.useContext)(x);if(!e)throw Error("useToast must be used within a ToastProvider");return e},v=e=>{let{children:r}=e,[s,d]=(0,a.useState)([]),i=e=>{d(r=>r.filter(r=>r.id!==e))};return(0,t.jsx)(x.Provider,{value:{toasts:s,addToast:e=>{let r=Math.random().toString(36).substring(2,9);d(s=>[...s,{id:r,...e}]),setTimeout(()=>{i(r)},e.duration||5e3)},removeToast:i},children:(0,t.jsxs)(l,{children:[r,s.map(e=>{let{id:r,title:s,description:a,type:d}=e;return(0,t.jsxs)(f,{variant:d,className:"group",children:[(0,t.jsxs)("div",{className:"grid gap-1",children:[s&&(0,t.jsx)(g,{children:s}),(0,t.jsx)(h,{children:a})]}),(0,t.jsx)(m,{onClick:()=>i(r)})]},r)}),(0,t.jsx)(u,{})]})})}},594:(e,r,s)=>{s.d(r,{A:()=>w});var t=s(5155),a=s(2115),d=s(1418),i=s(6046),o=s(1567);let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let u=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("h3",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});u.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("p",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let f=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",s),...a})});f.displayName="CardContent",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter";var m=s(3312),g=s(5685),h=s(7493),x=s(3462),p=s(7893),v=s(1354),y=s(166);let w=e=>{let{children:r,title:s,description:o}=e,{user:w,isAuthenticated:b,logout:N}=(0,d.n)(),j=(0,i.useRouter)(),{addToast:A}=(0,y.d)();return(a.useEffect(()=>{b||j.push("/")},[b,j]),b&&w)?(0,t.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,t.jsx)("aside",{className:"w-full lg:w-64 space-y-6",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600 text-xl font-medium",children:[w.firstName.charAt(0),w.lastName.charAt(0)]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"font-semibold text-gray-800",children:[w.firstName," ",w.lastName]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:w.email})]})]}),(0,t.jsxs)("nav",{className:"space-y-1",children:[(0,t.jsxs)(m.$,{variant:"ghost",className:"w-full justify-start text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:()=>j.push("/profile"),children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"My Profile"]}),(0,t.jsxs)(m.$,{variant:"ghost",className:"w-full justify-start text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:()=>j.push("/profile/addresses"),children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"My Addresses"]}),(0,t.jsxs)(m.$,{variant:"ghost",className:"w-full justify-start text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:()=>j.push("/profile/orders"),children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Order History"]}),(0,t.jsxs)(m.$,{variant:"ghost",className:"w-full justify-start text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:()=>j.push("/profile/lists"),children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Saved Lists"]})]}),(0,t.jsx)("div",{className:"mt-8 pt-4 border-t",children:(0,t.jsxs)(m.$,{variant:"outline",className:"w-full justify-start text-red-600 hover:bg-red-50 hover:text-red-700 border-red-200",onClick:()=>{N(),A({title:"Logged Out",description:"You have been successfully logged out.",type:"success"}),j.push("/")},children:[(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Logout"]})})]})}),(0,t.jsx)("main",{className:"flex-1",children:(0,t.jsxs)(n,{children:[(0,t.jsxs)(l,{children:[(0,t.jsx)(u,{children:s}),o&&(0,t.jsx)(c,{children:o})]}),(0,t.jsx)(f,{children:r})]})})]})}):null}},1418:(e,r,s)=>{s.d(r,{n:()=>i});var t=s(9827),a=s(709);let d={"user@example.com":{user:{id:"1",email:"user@example.com",firstName:"John",lastName:"Doe",phone:"555-123-4567",addresses:[{id:"1",name:"Home",street:"123 Main St",city:"Stockholm",postalCode:"12345",country:"Sweden",isDefault:!0}]},password:"password123"}},i=(0,t.v)()((0,a.Zr)((e,r)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(r,s)=>{e({isLoading:!0,error:null}),await new Promise(e=>setTimeout(e,1e3));try{let t=d[r.toLowerCase()];if(!t||t.password!==s)throw Error("Invalid email or password");e({user:t.user,isAuthenticated:!0,isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"An error occurred",isLoading:!1})}},register:async(r,s)=>{e({isLoading:!0,error:null}),await new Promise(e=>setTimeout(e,1e3));try{if(d[r.email.toLowerCase()])throw Error("Email already in use");let t={id:Math.random().toString(36).substring(2,9),...r,addresses:[]};d[r.email.toLowerCase()]={user:t,password:s},e({user:t,isAuthenticated:!0,isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"An error occurred",isLoading:!1})}},logout:()=>{e({user:null,isAuthenticated:!1})},updateUser:s=>{let{user:t}=r();t&&e({user:{...t,...s}})},addAddress:s=>{var t;let{user:a}=r();if(!a)return;let d={id:Math.random().toString(36).substring(2,9),...s,isDefault:(null===(t=a.addresses)||void 0===t?void 0:t.length)===0||s.isDefault},i=[...a.addresses||[]];d.isDefault&&(i=i.map(e=>({...e,isDefault:!1}))),i.push(d),e({user:{...a,addresses:i}})},updateAddress:(s,t)=>{let{user:a}=r();if(!a||!a.addresses)return;let d=a.addresses.findIndex(e=>e.id===s);if(-1===d)return;let i=[...a.addresses];i[d]={...i[d],...t},t.isDefault&&i.forEach((e,r)=>{r!==d&&(e.isDefault=!1)}),e({user:{...a,addresses:i}})},removeAddress:s=>{var t;let{user:a}=r();if(!a||!a.addresses)return;let d=a.addresses.filter(e=>e.id!==s);(null===(t=a.addresses.find(e=>e.id===s))||void 0===t?void 0:t.isDefault)&&d.length>0&&(d[0].isDefault=!0),e({user:{...a,addresses:d}})},setDefaultAddress:s=>{let{user:t}=r();if(!t||!t.addresses)return;let a=t.addresses.map(e=>({...e,isDefault:e.id===s}));e({user:{...t,addresses:a}})},clearError:()=>{e({error:null})}}),{name:"smart-shop-auth",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}))},1567:(e,r,s)=>{s.d(r,{cn:()=>d});var t=s(3463),a=s(9795);function d(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},3312:(e,r,s)=>{s.d(r,{$:()=>l});var t=s(5155),a=s(2115),d=s(2317),i=s(1027),o=s(1567);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,r)=>{let{className:s,variant:a,size:i,asChild:l=!1,...u}=e,c=l?d.DX:"button";return(0,t.jsx)(c,{className:(0,o.cn)(n({variant:a,size:i,className:s})),ref:r,...u})});l.displayName="Button"}}]);